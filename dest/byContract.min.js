/*! bycontract - v0.0.1 - 2016-01-09 */if("object"==typeof module&&"function"!=typeof define)var define=function(a){module.exports=a(require,exports,module)};if("undefined"==typeof define)var define=function(a){return a()};define(function(){"use strict";var a="undefined"!=typeof window?window:global,b=Object.prototype.toString,c={arguments:function(a){return"[object Arguments]"===b.call(a)},array:Array.isArray||function(a){return"[object Array]"===b.call(a)},string:function(a){return"[object String]"===b.call(a)},undefined:function(a){return void 0===a},"boolean":function(a){return a===!0||a===!1||"[object Boolean]"===b.call(a)},"function":function(a){return"[object Function]"===b.call(a)||"function"==typeof a},nan:function(a){return a!==a},"null":function(a){return null===a},number:function(a){return!c.nan(a)&&"[object Number]"===b.call(a)},object:function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},regexp:function(a){return"[object RegExp]"===b.call(a)}},d=function(b,f){var g,h;if(c["function"](f))return b instanceof f;if(!c.string(f))throw new e.Exception("Invalid parameters. The second parameter (contract) must be a string or a constructor function");if(f.match(/=$/)){if(!b)return!0;f=f.substr(0,f.length-1)}if(g=c[f.toLowerCase()],"undefined"!=typeof g)return g(b);if("?number"===f)return c.number(b)||c["null"](b);if("!number"===f)return c.number(b)&&!c["null"](b);if(f.indexOf("|")>0)return f.split("|").some(function(a){return d(b,a)});if(0===f.indexOf("Array.<")){if(h=f.match(/Array\.<(.+)>/i),!h)throw new e.Exception("Invalid contract `"+f+"`");return c.array(b)&&b.every(function(a){return d(a,h[1])})}if(0===f.indexOf("Object.<")){if(h=f.match(/Object\.<(.+),\s*(.+)>/i),!h)throw new e.Exception("Invalid contract `"+f+"`");return c.object(b)&&Object.keys(b).every(function(a){return d(a,h[1])&&d(b[a],h[2])})}if(!f.match(/^[a-zA-Z0-9\._]+$/))throw new e.Exception("Invalid contract `"+f+"`");return b instanceof a[f]},e=function(a,b){if("undefined"==typeof b)throw new e.Exception("Invalid parameters. The second parameter (contracts) is missing");if(c.array(b)){if(c.arguments(a)&&(a=[].slice.call(a)),!c.array(a))throw new e.Exception("Invalid parameters. When the second parameter (contracts) is an array, the first parameter (values) must an array too");return b.forEach(function(b,c){var f=a[c];if(!d(f,b))throw new e.Exception("Value of index "+c+" violates the contract `"+b+"`")}),a}if(!d(a,b))throw new e.Exception("Value violates the contract `"+b+"`");return a},f=function(a){var b,c,d;if(!a)return"";c=a.split("\n"),b=c[0];do d=c.shift();while(d&&!d.match(/^\s*at byContract/)&&!d.match(/^byContract@/));return("TypeError"===b?"ByContractError\n":"")+c.join("\n")};return e.Exception=function(a){e.Exception.prototype.stack=f((new TypeError).stack),this.name="ByContractError",this.message=a},e.Exception.prototype=new TypeError,e.is=c,e.validate=d,"undefined"!=typeof window&&(window.byContract=e),e});