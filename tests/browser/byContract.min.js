!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("lib",[],e):"object"==typeof exports?exports.lib=e():t.lib=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(1));e.Exception=i.default.Exception,e.default=i.default,e.Input=function(t){return function(e,n,r){const o=r.value;return i.default.isEnabled?Object.assign({},r,{value:function(){const e=Array.from(arguments);return i.default(e,t),o.apply(this,e)}}):r}},e.Output=function(t){return function(e,n,r){const o=r.value;return i.default.isEnabled?Object.assign({},r,{value:function(){const e=Array.from(arguments);let n=o.apply(this,e);return i.default(n,t),n}}):r}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const r=n(3),i=n(4),o={},c="undefined"!=typeof window?window:t;Object.prototype.toString;function u(t){return r.is.string(t)&&t in o}function a(t,e){let n,o;if(!l.isEnabled)return!0;if(r.is.function(e)||"object"==typeof e)return t instanceof e;if(!r.is.string(e))throw new i.Exception("Invalid parameters. The second parameter (contract) must be a string or a constructor function");if(e.match(/=$/)){if(!t)return!0;e=e.substr(0,e.length-1)}if(void 0!==(n=r.is[e.toLowerCase()]))return n(t);if("?number"===e)return r.is.number(t)||r.is.null(t);if("!number"===e)return r.is.number(t)&&!r.is.null(t);if(e.indexOf("|")>0)return e.split("|").some(e=>a(t,e));if(e.startsWith("Array.<")){if(!(o=e.match(/Array\.<(.+)>/i)))throw new i.Exception("Invalid contract (1) `"+e+"`");return r.is.array(t)&&t.every(t=>a(t,o[1]))}if(0===e.indexOf("Object.<")){if(!(o=e.match(/Object\.<(.+),\s*(.+)>/i)))throw new i.Exception("Invalid contract (2) `"+e+"`");return r.is.object(t)&&Object.keys(t).every(function(e){return a(e,o[1])&&a(t[e],o[2])})}if(!e.match(/^[a-zA-Z0-9\._]+$/))throw new i.Exception("Invalid contract (3) `"+e+"`");if("function"!=typeof c[e])throw new i.Exception("Invalid contract (4) `"+e+"`");return t instanceof c[e]}function s(t,e){return r.is.string(e)?a(t,e):!!r.areArraysEqual(Object.keys(t),Object.keys(e))&&Object.keys(t).every(n=>n in e&&a(t[n],e[n]))}function f(t,e,n,c){var f=r.is.number(n)?`(${n}) `:"",l=c?c+": ":"",p=function(t){if("function"!=typeof t)return JSON.stringify(t);return t.prototype.constructor.name}(e);if(u(e)){if(!s(t,o[e]))throw new i.Exception(l+"Value "+f+"incorrectly implements interface `"+p+"`")}else if(!a(t,e))throw new i.Exception(l+"Value "+f+"violates the contract `"+p+"`")}function l(t,e,n){if(!l.isEnabled)return t;if(void 0===e)throw new i.Exception("Invalid parameters. The second parameter (contracts) is missing");if(r.is.array(e)){if(r.is.arguments(t)&&(t=[].slice.call(t)),!r.is.array(t))throw new i.Exception("Invalid parameters. When the second parameter (contracts) is an array, the first parameter (values) must an array too");return e.forEach(function(e,r){f(t[r],e,r,n)}),t}return f(t,e,null,n),t}e.default=l,l.is=r.is,l.validate=function(t,e){return u(e)?s(t,o[e]):a(t,e)},l.Exception=i.Exception,l.typedef=function(t,e){if(l([t,e],["string","string|Object.<string, string>"]),t in r.is)throw new i.Exception("Custom type must not override a primitive");o[t]=e},l.isEnabled=!0,c.byContract=l}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.is={arguments:t=>"[object Arguments]"===toString.call(t),array:Array.isArray||function(t){return"[object Array]"===toString.call(t)},string:t=>"[object String]"===toString.call(t),undefined:t=>void 0===t,boolean:t=>!0===t||!1===t||"[object Boolean]"===toString.call(t),function:t=>"[object Function]"===toString.call(t)||"function"==typeof t,nan:t=>t!=t,null:t=>null===t,number:t=>!e.is.nan(t)&&"[object Number]"===toString.call(t),object:t=>{var e=typeof t;return"function"===e||"object"===e&&!!t},regexp:t=>"[object RegExp]"===toString.call(t)},e.areArraysEqual=function(t,e){return JSON.stringify(t.sort())===JSON.stringify(e.sort())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends TypeError{constructor(t){super(t);let e=new TypeError;"stack"in e&&(this.stack=r.modifyErrStack(e.stack)),this.name="ByContractError",this.message=t,Object.setPrototypeOf(this,r.prototype)}toString(){return this.name+": "+this.message}}r.modifyErrStack=(t=>{let e,n,r;if(!t)return"";e=(n=t.split("\n"))[0];do{r=n.shift()}while(r&&!r.match(/^\s*at byContract/)&&!r.match(/^byContract@/));return("TypeError"===e?"ByContractError\n":"")+n.join("\n")}),e.Exception=r}])});