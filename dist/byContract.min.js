/*! bycontract - v0.0.2 - 2016-08-03 */if("object"==typeof module&&"function"!=typeof define)var define=function(a){module.exports=a(require,exports,module)};if("undefined"==typeof define)var define=function(a){return a()};define(function(){"use strict";var a="undefined"!=typeof window?window:global,b=!0,c=Object.prototype.toString,d={arguments:function(a){return"[object Arguments]"===c.call(a)},array:Array.isArray||function(a){return"[object Array]"===c.call(a)},string:function(a){return"[object String]"===c.call(a)},undefined:function(a){return void 0===a},"boolean":function(a){return a===!0||a===!1||"[object Boolean]"===c.call(a)},"function":function(a){return"[object Function]"===c.call(a)||"function"==typeof a},nan:function(a){return a!==a},"null":function(a){return null===a},number:function(a){return!d.nan(a)&&"[object Number]"===c.call(a)},object:function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},regexp:function(a){return"[object RegExp]"===c.call(a)}},e=function(c,g){var h,i;if(!b)return!0;if(d["function"](g))return c instanceof g;if(!d.string(g))throw new f.Exception("Invalid parameters. The second parameter (contract) must be a string or a constructor function");if(g.match(/=$/)){if(!c)return!0;g=g.substr(0,g.length-1)}if(h=d[g.toLowerCase()],"undefined"!=typeof h)return h(c);if("?number"===g)return d.number(c)||d["null"](c);if("!number"===g)return d.number(c)&&!d["null"](c);if(g.indexOf("|")>0)return g.split("|").some(function(a){return e(c,a)});if(0===g.indexOf("Array.<")){if(i=g.match(/Array\.<(.+)>/i),!i)throw new f.Exception("Invalid contract `"+g+"`");return d.array(c)&&c.every(function(a){return e(a,i[1])})}if(0===g.indexOf("Object.<")){if(i=g.match(/Object\.<(.+),\s*(.+)>/i),!i)throw new f.Exception("Invalid contract `"+g+"`");return d.object(c)&&Object.keys(c).every(function(a){return e(a,i[1])&&e(c[a],i[2])})}if(!g.match(/^[a-zA-Z0-9\._]+$/))throw new f.Exception("Invalid contract `"+g+"`");return c instanceof a[g]},f=function(a,c){if(!b)return a;if("undefined"==typeof c)throw new f.Exception("Invalid parameters. The second parameter (contracts) is missing");if(d.array(c)){if(d.arguments(a)&&(a=[].slice.call(a)),!d.array(a))throw new f.Exception("Invalid parameters. When the second parameter (contracts) is an array, the first parameter (values) must an array too");return c.forEach(function(b,c){var d=a[c];if(!e(d,b))throw new f.Exception("Value of index "+c+" violates the contract `"+b+"`")}),a}if(!e(a,c))throw new f.Exception("Value violates the contract `"+c+"`");return a},g=function(a){var b,c,d;if(!a)return"";c=a.split("\n"),b=c[0];do d=c.shift();while(d&&!d.match(/^\s*at byContract/)&&!d.match(/^byContract@/));return("TypeError"===b?"ByContractError\n":"")+c.join("\n")};return f.Exception=function(a){f.Exception.prototype.stack=g((new TypeError).stack),this.name="ByContractError",this.message=a},f.Exception.prototype=new TypeError,f.is=d,f.validate=e,f.isEnabled=b,f["default"]=f,"undefined"!=typeof window&&(window.byContract=f),f});